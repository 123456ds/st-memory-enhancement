<div class="memory_enhancement_container">
    <div class="memory_enhancement_settings">
        <div class="inline-drawer">
            <div class="inline-drawer-toggle inline-drawer-header">
                <div id="inline_drawer_header_content">
                    <b>шо░х┐ЖхвЮх╝║я╝Ишбица╝я╝Й</b>
                    <span id="tableUpdateTag" style="cursor: pointer">цЬЙцЫ┤цЦ░</span>
                </div>
                <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
            </div>
            <div class="inline-drawer-content">
                <div id="memory_enhancement_settings_inline_drawer_content">
                    <!-- шо░х┐ЖхвЮх╝║шбица╝чобчРЖ -->
                    <div id="table_message_tip"></div>
                    <div style=" display: flex; flex-direction: row; gap: 10px;">
                        <div class="menu_button_icon menu_button interactable">
                            <i class="fa-solid fa-star" style="color: #eac54f;"></i>
                            <a href="https://github.com/muyoou/st-memory-enhancement/">щб╣чЫохЬ░хЭА</a>
                        </div>
                        <div class="menu_button_icon menu_button interactable">
                            <i class="fa-solid fa-book"></i>
                            <a href="https://muyoo.com.cn/2025/01/26/SillyTavern%E9%85%92%E9%A6%86%E8%AE%B0%E5%BF%86%E5%A2%9E%E5%BC%BA%E6%8F%92%E4%BB%B6%E6%95%99%E7%A8%8B/">щШЕшп╗цХЩчиЛ</a>
                        </div>
                        <div class="menu_button_icon menu_button interactable">
                            <i class="fa-solid fa-window-restore"></i>
                            <a href="https://muyoo.com.cn/2025/01/27/SillyTavern%E9%85%92%E9%A6%86%E8%AE%B0%E5%BF%86%E5%A2%9E%E5%BC%BA%E6%8F%92%E4%BB%B6%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97/">цЫ┤цЦ░цЧех┐Ч</a>
                        </div>
                        <div class="menu_button_icon menu_button interactable" id="table_debug_log_button">
                            <i class="fa-solid fa-file-waveform"></i>
                            <a>щФЩшппцЧех┐Ч</a>
                        </div>
                    </div>

                    <!-- хнРшо╛ч╜о -->
                    <div style="padding: 10px 0; gap: 10px">
                        <!-- цПТф╗╢щвДшо╛ -->
                        <div class="table_setting_category_container" style="display: flex; align-items: center; gap: 6px;">
                            <b class="table_setting_category_header">хп╝хЕехп╝хЗ║ф╕ОщЗНч╜оцПТф╗╢</b><div style="height: 10px;"></div>
                            <div class="menu_button menu_button_icon fa-solid fa-file-import" id="table-set-import" title="хп╝хЕешбица╝щвДшо╛">
                            </div>
                            <input type="file" id="table-set-importFile" accept=".json" hidden>
                            <div class="menu_button menu_button_icon fa-solid fa-file-export" id="table-set-export" title="хп╝хЗ║шбица╝щвДшо╛">
                            </div>
                            <div class="menu_button menu_button_icon fa-solid fa-undo" id="table-reset" title="щЗНч╜ошбица╝щвДшо╛"></div>
                        </div>
                        <hr/>

                        <!-- хЯ║чбАшо╛ч╜о -->
                        <div class="table_setting_category_container">
                            <b class="table_setting_category_header">хЯ║чбАшо╛ч╜о</b><div style="height: 10px;"></div>
                            <div class="checkbox flex-container">
                                <input type="checkbox" id="table_switch"><span>цПТф╗╢хРпчФи</span>
                            </div>
                            <div class="checkbox flex-container">
                                <input type="checkbox" id="table_switch_debug_mode"><span>ш░ГшпХцибх╝П</span>
                            </div>

                        </div>
                        <hr/>

                        <!-- шбица╝щвДшо╛ -->
                        <div class="table_setting_category_container">
                            <!-- щвДшо╛шо╛ч╜о -->
                            <b class="table_setting_category_header">хЫЮхдНшо╛ч╜о</b><div style="height: 10px;"></div>
                            <!-- хИЖцнехблшби -->
                            <div class="checkbox flex-container">
                                <input type="checkbox" id="step_by_step"><span>хРпчФихИЖцнехблшби</span><small>(цпПцмбхп╣шпЭхРОшЗкхКиш░ГчФиapiхНХчЛмцА╗ч╗Ушбица╝)</small>
                            </div>

                            <!-- щ╗Шшодф╕НхИЖцнехблшби -->
                            <div id="reply_options" style="padding-left: 20px; width: calc(100% - 20px);">
                                <div style="height: 5px;"></div>
                                <div class="checkbox flex-container">
                                    <input type="checkbox" id="table_read_switch"><span>AIшп╗шбих╝АхЕ│</span>
                                </div>
                                <div class="checkbox flex-container">
                                    <input type="checkbox" id="table_edit_switch"><span>AIцФ╣шбих╝АхЕ│</span>
                                </div>
                                <div style="height: 10px;"></div>
                                <!-- щлШч║зшо╛ч╜ощАЙщб╣ -->
                                <div style="padding-left: 10px;">
                                    <div style=" display: flex;">
                                        <label for="dataTable_injection_mode" style="min-width: 50px">ц│ихЕея╝Ъ</label>
                                        <select id="dataTable_injection_mode">
                                            <option value="deep_system">@D тЪЩ</option>
                                            <option value="deep_user">@D ЁЯСд</option>
                                            <option value="deep_assistant">@D ЁЯдЦ</option>
                                        </select>
                                        <label style="min-width: 60px; padding-left: 10px; " for="dataTable_deep">ц╖▒х║жя╝Ъ</label>
                                        <input class="text_pole wideMax100px margin0" type="number" id="dataTable_deep"></input>
                                    </div>
                                </div>
                                <div style="padding-left: 10px;">
                                    <label for="dataTable_message_template">ц╢ИцБпцибцЭ┐</label><small>
                                    (чФиф║Оч╗ЩAIшп┤цШОцАОф╣Иф╜┐чФишбица╝ф╗ехПКцАОф╣Иф┐оцФ╣шбица╝я╝Мф╜┐чФи<code>{{tableData}}</code>хоПцМЗф╗дцЭещАЙцЛйшбица╝цХ░цНочЪДцПТхЕеф╜Нч╜о)</small>
                                    <textarea id="dataTable_message_template" class="wide100p" rows="5"></textarea>
                                </div>
                            </div>

                            <!-- хИЖцнехблшби -->
                            <div id="step_by_step_options" style="padding-left: 20px; width: calc(100% - 20px);">
                                <div class="flex-container slider-container" style="margin: 5px 0 5px 20px; width: 90%;">
                                    <label>шзжхПСщШИхА╝хнЧцХ░<small>я╝ИхЫЮхдНхнЧцХ░хдзф║ОшпехА╝шзжхПСхИЖцнехблшбия╝Й</small>я╝Ъ<span id="step_by_step_threshold_value">500</span></label>
                                    <input type="range" id="step_by_step_threshold" min="10" max="10000" step="10" value="10" style="width: calc(100% - 20px);">
                                </div>
                                <div style="height: 20px;"></div>
                                <div class="checkbox flex-container" style="margin-left: 10px; width: 100%;">
                                    <input type="checkbox" id="sum_multiple_rounds" checked><span>хнЧцХ░хдЪш╜оч┤пшоб</span><small>(ч┤пшобхдЪш╜оцЬкшзжхПСхнЧцХ░хПВф╕ОщШИхА╝цпФш╛Г)</small>
                                </div>
                            </div>
                        </div>
                        <hr/>

                        <!-- щЗНцЦ░цХ┤чРЖшбица╝ -->
                        <div class="table_setting_category_container">
                            <b class="table_setting_category_header">щЗНцЦ░цХ┤чРЖшбица╝</b><div style="height: 10px;"></div>
                            <select id="table_refresh_type_selector" class="text_pole" style="width: 100%; margin-bottom: 5px;">
                                <option value="">~~~чЬЛхИ░ш┐Щф╕кщАЙщб╣шп┤цШОхЗ║щЧощвШф║Ж~~~~</option>
                            </select>
                            <!-- шЗкхоЪф╣ЙAPI -->
                            <div class="checkbox flex-container" style="width: 100%;">
                                <input type="checkbox" id="use_main_api" checked><span>ф╜┐чФиф╕╗API<small>я╝ИхПЦц╢ИхЛ╛щАЙхРОхПпф╗ечФишЗкхоЪф╣ЙчЪДapiя╝Й</small></span>
                            </div>
                            <div id="custom_api_settings" style="display: none; flex-direction: column; gap: 5px; width: calc(100% - 20px); margin-left: 10px">
                                <div style="height: 10px;"></div>
                                <!-- шЗкхоЪф╣ЙAPIшо╛ч╜о -->
                                <input type="text" id="custom_api_url" class="text_pole" placeholder="API URLя╝Ишп╖ф╗е/v1ч╗Ух░╛я╝Й">
                                <input type="password" id="custom_api_key" class="text_pole" placeholder="API Key">
                                <input type="text" id="custom_model_name" class="text_pole" placeholder="Model Name">
                                <div style="margin-top: 10px;">
                                    <select id="model_selector" class="text_pole" style="width: 100%; margin-bottom: 5px;">
                                        <option value="">шп╖хЕИшО╖хПЦцибхЮЛхИЧшби</option>
                                    </select>
                                    <div class="menu_button" id="fetch_models_button" style="width: 100%;">
                                        <a>шО╖хПЦцибхЮЛхИЧшби</a>
                                    </div>
                                </div>
                                <div class="flex-container slider-container" style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                                    <label style="min-width: 140px; margin: 0; white-space: nowrap; flex-shrink: 0;">шЗкхоЪф╣ЙAPIц╕йх║жшо╛хоЪя╝Ъ<span id="custom_temperature_value">1.0</span></label>
                                    <input type="range" id="custom_temperature" min="0.1" max="2.0" step="0.1" value="1.0" style="flex-grow: 1;">
                                </div>
                            </div>

                            <!-- щлШч║зшо╛ч╜о -->
                            <div class="checkbox flex-container">
                                <input type="checkbox" id="advanced_settings"><span>цЯечЬЛщлШч║зшо╛ч╜о</span>
                            </div>
                            <div id="advanced_options" style="display: none; padding-left: 20px; width: calc(100% - 20px);">
                                <!-- щлШч║зшо╛ч╜ощАЙщб╣ -->
                                <div class="flex-container slider-container" style="margin: 5px 0 5px 20px; width: 90%; " id="clear_up_stairs_container">
                                    <label>хПВшАГцЬАш┐СшБКхдйшо░х╜Хя╝Ъ<span id="clear_up_stairs_value">9цЭб</span></label>
                                    <input type="range" id="clear_up_stairs" min="1" max="99" step="1" value="9" style="width: 80%;">
                                </div>
                                <div class="flex-container slider-container" style="margin: 5px 0 5px 20px; width: 90%; display: none;" id="token_limit_container">
                                    <label>TokenщЩРхИ╢я╝Ъ<span id="rebuild_token_limit_value">10000</span></label>
                                    <input type="range" id="rebuild_token_limit" min="1000" max="100000" step="1000" value="10000" style="width: 80%;">
                                </div>
                                <div style="height: 20px;"></div>
                                <div class="checkbox flex-container" style="margin-left: 10px; width: 100%;">
                                    <input type="checkbox" id="use_token_limit"><span>чФиtokenф╗гцЫ┐шБКхдйшо░х╜ХщЩРхИ╢</span>
                                </div>
                                <div class="checkbox flex-container" style="margin-left: 10px; width: 100%;">
                                    <input type="checkbox" id="ignore_user_sent" checked><span>хПкхПВшАГAIхЫЮхдНчЪДц╢ИцБп</span>
                                </div>
                                <div class="checkbox flex-container" style="margin-left: 10px; width: 100%;">
                                    <input type="checkbox" id="ignore_del" checked><span>цХ┤чРЖцЧ╢ф╕НхИащЩдя╝МхПкф┐оцФ╣хТМц╖╗хКая╝Иф╗ЕцаЗшо░ф╕║'**цЧз**'чЪДцХ┤чРЖч▒╗хЮЛчФЯцХИя╝Й</span>
                                </div>
                                <div class="checkbox flex-container" style="margin-left: 10px; width: 100%;">
                                    <input type="checkbox" id="bool_force_refresh"><span>ш╖│ш┐ЗцХ┤чРЖхЙНчЪДчбошодх╝╣чкЧ</span>
                                </div>
                                <div class="checkbox flex-container" style="margin-left: 10px; width: 100%;">
                                    <input type="checkbox" id="bool_silent_refresh"><span>ш╖│ш┐ЗцХ┤чРЖхРОчЪДчбошодх╝╣чкЧ</span>
                                </div>
                            </div>
                            <div style="display: flex; gap: 10px; margin: 10px 0 0 10px; width: calc(100% - 20px);">
                                <div class="menu_button" id="table_clear_up" style="flex: 1;">
                                    <i class="fa-solid fa-arrows-rotate"></i><a>члЛхН│цХ┤чРЖшбица╝</a>
                                </div>
                                <!--я╝ИхРИх╣╢хИ░ф╕КщЭвчЪДф╕ЛцЛЙцбЖхЖЕя╝Й-->
                                <!-- <div class="menu_button" id="rebuild_table" style="flex: 1;">
                                    <i class="fa-solid fa-recycle"></i><a>хоМцХ┤щЗНх╗║шбица╝</a>
                                </div> -->
                            </div>
                        </div>
                        <hr/>

                        <!-- шбица╝цОищАБшЗ│хп╣шпЭ -->
                        <div class="table_setting_category_container">
                            <b class="table_setting_category_header">шбица╝цОищАБшЗ│хп╣шпЭ</b><div style="height: 10px;"></div>
                            <div class="checkbox flex-container">
                                <input type="checkbox" id="table_to_chat"><span>шбица╝цОищАБшЗ│хп╣шпЭ</span>
                            </div>
                            <!--                    <div style="padding-left: 10px">-->
                            <!--                        <label for="dataTable_to_chat_button">хп╣шпЭф╕нчЪДщЭвцЭ┐ца╖х╝П</label>-->
                            <!--                    </div>-->
                            <!--                    <small>(ф╜┐чФиHTMLуАБCSSшЗкхоЪф╣ЙцОищАБшЗ│хп╣шпЭчЪДшбица╝цХ┤ф╜Уца╖х╝Пя╝МчФи<code>$0</code>шбичд║шбица╝цХ┤ф╜УчЪДцПТхЕеф╜Нч╜о)</small>-->
                            <div class="menu_button" id="dataTable_to_chat_button" style="margin-left: 10px; width: calc(100% - 20px)">
                                <i class="fa-solid fa-pen-to-square"></i><a>ч╝Цш╛Схп╣шпЭф╕нчЪДщЭвцЭ┐ца╖х╝П</a>
                            </div>
                        </div>
                        <hr/>

                        <div class="table_setting_category_container"><!-- шбица╝ч╗УцЮД -->
                            <b class="table_setting_category_header">шбица╝ч╗УцЮД</b><div style="height: 10px;"></div>
                            <div style="padding-left: 10px;">
                                <label>цЙАцЬЙшбица╝</label><small> (чЫохЙНчФиф║Оф┐оцФ╣шбица╝чЪДшп┤цШОхПКхРДчзНшбица╝цУНф╜ЬчЪДшзжхПСцПРчд║шпН)</small>
                                <div id="dataTable_tableEditor_list">
                                </div>
                            </div>
                            <!-- <div style="padding-left: 10px;">
                                <label>шбица╝цПРчд║шпНч╗ДшгЕхЗ╜цХ░</label><small> (чФиф║ОцМЗхоЪшбица╝цПРчд║шпНчЪДч╗ДшгЕцЦ╣х╝ПчЪДjsхЗ╜цХ░)</small>
                                <textarea id="dataTable_table_function" class="wide100p" rows="3"></textarea>
                            </div> -->
                        </div>
                    </div>


                    <div style="height: 20px;"></div>
                </div>
            </div>
        </div>
    </div>

</div>
